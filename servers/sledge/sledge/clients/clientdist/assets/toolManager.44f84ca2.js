import{r as g,a as S,u as f,o as r,c as i,d as t,t as o,F as p,e as $,m as w,h as y,i as v,_ as k,b as x,f as a,w as m,j as C,k as D,s as V}from"./index.d0819ba4.js";const H={key:0},L={class:"h-12 bg-gray-400 text-lg font-bold relative"},R=y("Registered tools "),T={class:"badge badge-primary my-2 absolute right-1"},F={class:"my-5 h-96 overflow-y-auto"},M=["onClick"],j={__name:"toolIndex",setup(h){var s=g([]);g([]);function e(){if(window.location.hostname=="localhost")var d="http://centryplan-012/gettools";else var d="http://192.168.0.10/gettools";v.get(d).then(n=>{s.value=n.data})}return S(()=>{setTimeout(()=>{e()},150)}),(d,n)=>f(s).length>0?(r(),i("div",H,[t("p",L,[R,t("span",T,o(f(s).length),1)]),t("ul",F,[(r(!0),i(p,null,$(f(s),_=>(r(),i("li",{class:"h-12 w-full border-b border-gray-400 cursor-pointer relative",onClick:l=>d.$emit("gettool",_.id)},[t("span",null,o(_.id)+" "+o(_.name),1)],8,M))),256))])])):w("",!0)}},B={class:"h-12 bg-gray-400 text-lg font-bold relative"},K={__name:"newTool",setup(h){return g({}),g([]),(s,e)=>(r(),i("p",B,"Registered tool "))}},N={name:"log-hire",props:{tool:Object},data(){return{hv:{timestamp:Date.parse(new Date)},url:"http://centryplan-012/"}},methods:{submitHandler(){this.tool.hireage.push(this.hv);var h={_id:this.tool._id,hireage:this.tool.hireage};v.put(`${this.http}updatetool`,h)}}},O=t("label",{for:"hire-log",class:"btn modal-button btn-xs"},"Log Hire",-1),E=t("input",{type:"checkbox",id:"hire-log",class:"modal-toggle"},null,-1),U={for:"hire-log",class:"modal cursor-pointer"},P={class:"modal-box relative",for:""},q={class:"text-lg font-bold"},I={class:"flex flex-row"},W={class:"flex flex-row"},A={class:"flex flex-row"},G={class:"text-xs"};function z(h,s,e,d,n,_){const l=x("FormKit");return r(),i(p,null,[O,E,t("label",U,[t("label",P,[t("h3",q,o(e.tool.name)+"/Hire Log",1),a(l,{type:"form",modelValue:n.hv,"onUpdate:modelValue":s[0]||(s[0]=u=>n.hv=u),onSubmit:_.submitHandler},{default:m(()=>[t("div",I,[a(l,{type:"text",label:"Customer Name",name:"customer_name"}),a(l,{type:"text",label:"Terms",name:"terms"})]),t("div",W,[a(l,{type:"date",label:"Hire Date",name:"hire_date"}),a(l,{type:"date",label:"Return Date",name:"return_date"})]),t("div",A,[a(l,{type:"textarea",label:"Out Condition",name:"state_out"}),a(l,{type:"textarea",label:"Return Condition",name:"state_returned"})])]),_:1},8,["modelValue","onSubmit"]),t("p",G,o(n.hv),1)])])],64)}const J=k(N,[["render",z]]),Q={name:"log-service",props:{tool:Object},data(){return{sv:{timestamp:Date.parse(new Date)},url:"http://centryplan-012/"}},methods:{submitHandler(){this.tool.service.push(this.sv);var h={_id:this.tool._id,service:this.tool.service};v.put(`${this.http}updatetool`,h)}}},X=t("label",{for:"service-log",class:"btn modal-button btn-xs"},"Log Service",-1),Y=t("input",{type:"checkbox",id:"service-log",class:"modal-toggle"},null,-1),Z={for:"service-log",class:"modal cursor-pointer"},tt={class:"modal-box relative",for:""},et={class:"text-lg font-bold"},ot={class:"flex flex-row"},st={class:"text-xs"};function lt(h,s,e,d,n,_){const l=x("FormKit");return r(),i(p,null,[X,Y,t("label",Z,[t("label",tt,[t("h3",et,o(e.tool.name)+"/Service Log",1),a(l,{type:"form",modelValue:n.sv,"onUpdate:modelValue":s[0]||(s[0]=u=>n.sv=u),onSubmit:_.submitHandler},{default:m(()=>[t("div",ot,[a(l,{type:"text",label:"Serviceman Name",name:"service_man"}),a(l,{type:"date",label:"Service Date",name:"service_date"})]),a(l,{type:"textarea",label:"Description",name:"description"})]),_:1},8,["modelValue","onSubmit"]),t("p",st,o(n.sv),1)])])],64)}const nt=k(Q,[["render",lt]]),at={name:"etool",props:{tool:Object},data(){return{err:null,update:null,show:{runtime:!0}}},methods:{updateRuntime(){var h={_id:this.tool._id,runtime:this.tool.runtime};v.put(`${this.http}updatetool`,h).then(s=>{this.update=s.data}).catch(s=>{this.err=s.message}),this.show.runtime=!0}},components:{LogHire:J,LogService:nt}},rt={key:0,class:"text-red-400 font-fine mx-5"},it={key:1,class:"text-green-300 font-fine mx-5"},ct={class:"my-5"},dt={class:"card card-side bg-base-100 shadow-xl"},ut={class:"w-64"},_t=["src"],ht={class:"card-body"},mt={class:"card-title"},pt={class:"flex flex-row mx-2"},gt={class:"w-1/2 flex flex-col"},vt={class:"w-1/2"},bt={class:"flex flex-row"},ft=y(" runtime "),xt={key:0},yt={key:1,class:"flex flex-row mx-2"},wt={class:"w-32"},$t=t("div",{class:"card-actions justify-end"},[t("button",{class:"btn btn-secondary"},"Brand")],-1),kt={class:"my-5 bg-gray-200 rounded-md shadow-lg"},St={class:"flex flex-row h-12"},Ct=t("span",{class:"mx-5"},"Hireage",-1),Dt=y(),Vt={class:"overflow-x-auto"},Ht={class:"table w-full"},Lt=t("thead",null,[t("tr",null,[t("th",null,"Customer"),t("th",null,"Terms"),t("th",null,"Hire Date"),t("th",null,"Return Date"),t("th",null,"Out Condition"),t("th",null,"Return Condition")])],-1),Rt={class:"mx-2"},Tt={class:"my-5 bg-gray-200 rounded-md shadow-lg"},Ft={class:"flex flex-row h-12 bg-gray-200"},Mt=t("span",{class:"mx-5"},"Service Log",-1),jt=y(),Bt={class:"overflow-x-auto"},Kt={class:"table w-full"},Nt=t("thead",null,[t("tr",null,[t("th",null,"Service Date"),t("th",{class:"mx-2"},"Service Man"),t("th",null,"Description")])],-1),Ot={class:"mx-2"};function Et(h,s,e,d,n,_){const l=x("FormKit"),u=x("LogHire"),b=x("LogService");return r(),i(p,null,[n.err?(r(),i("p",rt,o(n.err),1)):w("",!0),n.update?(r(),i("p",it,o(n.update),1)):w("",!0),t("section",ct,[t("div",dt,[t("figure",ut,[t("img",{src:e.tool.meta_data.img_url,alt:"tool"},null,8,_t)]),t("div",ht,[t("h2",mt,o(e.tool.name),1),t("section",pt,[t("p",gt,[t("span",null," Model. "+o(e.tool.model)+" Serial."+o(e.tool.serial),1),t("span",null," Brand. "+o(e.tool.brand)+" Power."+o(e.tool.power),1)]),t("p",vt,[t("span",bt,[ft,n.show.runtime?(r(),i("span",xt,[t("span",{class:"mx-2 cursor-pointer",onDblclick:s[0]||(s[0]=c=>n.show.runtime=!1)},o(e.tool.runtime.value),33)])):(r(),i("span",yt,[t("span",wt,[a(l,{type:"number",modelValue:e.tool.runtime.value,"onUpdate:modelValue":s[1]||(s[1]=c=>e.tool.runtime.value=c),modelModifiers:{number:!0}},null,8,["modelValue"])]),t("button",{class:"btn btn-primary btn-sm mx-2",onClick:s[2]||(s[2]=(...c)=>_.updateRuntime&&_.updateRuntime(...c))},"update runtime")])),y(" "+o(e.tool.runtime.unit),1)])])]),$t])])]),t("section",kt,[t("p",St,[Ct,Dt,a(u,{tool:e.tool},null,8,["tool"])]),t("div",Vt,[t("table",Ht,[Lt,t("tbody",null,[(r(!0),i(p,null,$(e.tool.hireage,c=>(r(),i("tr",null,[t("td",null,o(c.customer_name),1),t("td",Rt,o(c.terms),1),t("td",null,o(c.hire_date),1),t("td",null,o(c.return_date),1),t("td",null,o(c.state_out),1),t("td",null,o(c.state_returned),1)]))),256))])])])]),t("section",Tt,[t("p",Ft,[Mt,jt,a(b,{tool:e.tool},null,8,["tool"])]),t("div",Bt,[t("table",Kt,[Nt,t("tbody",null,[(r(!0),i(p,null,$(e.tool.service,c=>(r(),i("tr",null,[t("td",null,o(c.service_date),1),t("td",Ot,o(c.service_man),1),t("td",null,o(c.description),1)]))),256))])])])])],64)}const Ut=k(at,[["render",Et]]),Pt=t("p",null,"Welcome to CentryPlan Tools and Equipment Resource Manager",-1),qt=t("p",null,"Equipment ",-1),It={key:0},At={__name:"toolManager",emits:["inFocus","submit"],setup(h,{emit:s}){const e=g({message:"Welcome to CentryPlan Resource Manager!",status:"info"});var d=g({});function n(l){if(d.value={},window.location.hostname=="localhost")var u=`http://127.0.0.1/gettool/${l}`;else var u=`http://192.168.0.10/gettool/${l}`;v.get(u).then(b=>{d.value=b.data}).catch(b=>{e.value.message=b.message})}function _(){var l="/updatetool";if(window.location.hostname=="localhost")var l="http://127.0.0.1/updatetool";else var l="http://192.168.0.10/updatetool";v.put(l,d.value).then(u=>{d.value=u.data}).catch(u=>{e.value.message=u.message}),window.location.reload()}return(l,u)=>(r(),C(D,null,{xalert:m(()=>[a(V,{msg:e.value},null,8,["msg"])]),header:m(()=>[Pt]),lsbar:m(()=>[a(j,{onGettool:n})]),xdisplay:m(()=>[a(K),qt,Object.keys(f(d)).length>0?(r(),i("div",It,[a(Ut,{tool:f(d),onUpdatetool:_},null,8,["tool"])])):w("",!0)]),_:1}))}};export{At as default};
