import{_ as k,i as p,o as d,c as m,t as u,m as x,d as t,A as b,f as n,F as c,e as V,b as y}from"./index.d0819ba4.js";const f={name:"new-worker",props:{id:{String,default:null}},data(){return{error:null,worker:{name:"",oc:"",sex:"Male",dob:0,identity:"",id_type:"",occupation:"",height:0,imgurl:"",contact:{email:"",tel:"",mobile:""},address:{lot:"",street:"",town:"",city_parish:""},nok:{name:"",relation:"",contact:{email:"",tel:"",mobile:""},address:{lot:"",street:"",town:"",city_parish:""}},tasks:[],account:{bank:{name:"",branch:"",account:0},payments:[],loans:[],totals_payments:[],total:0},days:[],state:{active:!1,terminated:!1,onleave:!1,quit:!1},event:{employed:0,terminated:0,leave:0,quited:0},reports:[]},project:{},parishes:["St. Andrew","St. Ann","St. Catherine","St. Elizabeth","St. Mary","St. James","St. Thomas","Clarendon","Kingston","Hanover","Manchester","Trelawney","Westmoreland","Portland"]}},methods:{cancelSubmit(){this.worker={}},getProject(){const s=this;p.get(`${this.http}jsonproject/${s.id}`).then(e=>{s.project=e.data,s.alert={message:`Project ${s.id} was loaded successfully to your Desktop.`,status:"success"}}).catch(e=>{s.alert={message:e.message,status:"error"}})},addNewWorker(){const s=this;s.worker.event.employed=Date.parse(new Date),p.post(`${this.http}newworker`,s.worker).then(e=>{e.status==200&&(s.worker=e.data)}).catch(e=>{s.error=e.message})},addNewProjectWorker(){const s=this;var e=[{_id:s.worker._id,key:s.worker._id,value:{name:s.worker.name,oc:s.worker.oc,occupation:s.worker.occupation,added:Date.parse(new Date)}}];p.post(`${this.http}addworker/${s.id}`,e).then(a=>{a.status==200&&console.log(a.data)}).catch(a=>{s.error=a.message})},submitHandler(){const s=this;s.addNewWorker(),s.id?setTimeout(()=>{s.addNewProjectWorker()},500):window.location.reload(),setTimeout(()=>{window.location.reload()},1500)},setState(){return this.id?"bg-green-400 py-2 px-2 rounded-md":"bg-blue-300 py-2 px-2 rounded-md"},printForm(){printJS({printable:"employment-form",type:"html",targetStyles:["*"],footer:"PrintJS - Print Form With Customized Header"})}}},h={key:0,class:"text-red-600 font-semibold my-3 mx-5"},v=t("label",{for:"new-worker",class:"badge modal-button"},"Employ",-1),S=t("input",{type:"checkbox",id:"new-worker",class:"modal-toggle"},null,-1),g={for:"new-worker",class:"modal cursor-pointer"},U={class:"modal-box relative",for:"new-worker"},N={id:"employment-form",class:"w-full items-center"},_=t("div",{class:"divider"},"Identity",-1),P={class:"flex flex-row py-5 w-full"},C={class:"flex flex-col mx-5 w-1/2"},T={class:"flex flex-col mx-5 w-1/2"},A=t("div",{class:"divider"},"Address",-1),E={class:"flex flex-row py-5"},F={class:"flex flex-col mx-5 w-1/2"},M={class:"flex flex-col mx-5 w-1/2"},W=t("div",{class:"divider"},"Contact",-1),j={class:"flex flex-row py-5"},D=t("div",{class:"divider"},"Banking",-1),B={class:"flex flex-row py-5"},O=t("div",{class:"divider"},"Next Of kin",-1),H={class:"flex flex-row py-5"},L=t("div",{class:"divider text-yellow-600"},"Next Of kin Contact Info",-1),I={class:"flex flex-row py-5"},q=t("div",{class:"divider text-yellow-600"},"Next Of kin Address",-1),J={class:"flex flex-row py-5"},K={class:"flex flex-col mx-5 w-1/2"},z={class:"flex flex-col mx-5 w-1/2"},R={class:"flex flex-row py-5"},Y={class:"bg-indigo-100 mx-5 my-2 text-xs"};function G(s,e,a,Q,o,i){const r=y("FormKit");return d(),m(c,null,[o.error?(d(),m("p",h,u(o.error),1)):x("",!0),v,S,t("label",g,[t("label",U,[t("p",{class:b(i.setState())},"NEW EMPLOYEE/"+u(a.id),3),t("div",N,[_,t("div",P,[t("div",C,[n(r,{type:"text",label:"Name",modelValue:o.worker.name,"onUpdate:modelValue":e[0]||(e[0]=l=>o.worker.name=l),"prefix-icon":"avatarMan",help:"Enter Worker Full Name",validation:"required|name","validation-visibility":"live"},null,8,["modelValue"]),n(r,{id:"sex",modelValue:o.worker.sex,"onUpdate:modelValue":e[1]||(e[1]=l=>o.worker.sex=l),type:"select",label:"Sex",placeholder:"Select Sex",options:{male:"Male",female:"Female",other:"Other"}},null,8,["modelValue"]),n(r,{type:"text",label:"Identity",modelValue:o.worker.identity,"onUpdate:modelValue":e[2]||(e[2]=l=>o.worker.identity=l),"prefix-icon":"fileImage",help:"Identification "},null,8,["modelValue"]),n(r,{type:"text",label:"Height",modelValue:o.worker.height,"onUpdate:modelValue":e[3]||(e[3]=l=>o.worker.height=l),"prefix-icon":"tools",help:"Height"},null,8,["modelValue"])]),t("div",T,[n(r,{type:"text",label:"Also known as",modelValue:o.worker.oc,"onUpdate:modelValue":e[4]||(e[4]=l=>o.worker.oc=l),"prefix-icon":"avatarMan",help:"Alias or Pet name"},null,8,["modelValue"]),n(r,{type:"date",label:"Date Of Birth",modelValue:o.worker.dob,"onUpdate:modelValue":e[5]||(e[5]=l=>o.worker.dob=l),"prefix-icon":"date",help:"Date of Birth",validation:"required|DOB","validation-visibility":"live"},null,8,["modelValue"]),n(r,{id:"id",modelValue:o.worker.id_type,"onUpdate:modelValue":e[6]||(e[6]=l=>o.worker.id_type=l),type:"select",label:"Id Type",placeholder:"Select Id Type",options:{drivers_lic:"Drivers Lic.",passport:"Passport",national:"National"}},null,8,["modelValue","options"]),n(r,{id:"occupation",modelValue:o.worker.occupation,"onUpdate:modelValue":e[7]||(e[7]=l=>o.worker.occupation=l),type:"select",label:"Occupation",placeholder:"Select Occupation",options:{labourer:"Labourer",carpenter:"Carpenter",joiner:"Joiner",mason:"Mason",plumber:"Plumber",electrician:"Electrician",steelman:"Steelman",watchman:"Watchman",supervisor:"Supervisor",foreman:"Foreman",sub:"Sub Contractor"}},null,8,["modelValue"])])]),A,t("div",E,[t("div",F,[n(r,{type:"text",label:"Lot",modelValue:o.worker.address.lot,"onUpdate:modelValue":e[8]||(e[8]=l=>o.worker.address.lot=l),help:"Address Lot"},null,8,["modelValue"]),n(r,{type:"text",label:"Town",modelValue:o.worker.address.town,"onUpdate:modelValue":e[9]||(e[9]=l=>o.worker.address.town=l),help:"Town Name"},null,8,["modelValue"])]),t("div",M,[n(r,{type:"text",label:"Street",modelValue:o.worker.address.street,"onUpdate:modelValue":e[10]||(e[10]=l=>o.worker.address.street=l),help:"Street Name"},null,8,["modelValue"]),n(r,{id:"parish",modelValue:o.worker.address.city_parish,"onUpdate:modelValue":e[11]||(e[11]=l=>o.worker.address.city_parish=l),type:"select",label:"Parish",placeholder:"Select Parish",options:o.parishes},null,8,["modelValue","options"])])]),W,t("div",j,[n(r,{type:"text",label:"Email",modelValue:o.worker.contact.email,"onUpdate:modelValue":e[12]||(e[12]=l=>o.worker.contact.email=l),"prefix-icon":"email",help:"Email Address"},null,8,["modelValue"]),n(r,{type:"text",label:"Mobile",modelValue:o.worker.contact.mobile,"onUpdate:modelValue":e[13]||(e[13]=l=>o.worker.contact.mobile=l),"prefix-icon":"telephone",help:"Mobile"},null,8,["modelValue"]),n(r,{type:"text",label:"Tel.",modelValue:o.worker.contact.tel,"onUpdate:modelValue":e[14]||(e[14]=l=>o.worker.contact.tel=l),"prefix-icon":"telephone",help:"Telephone"},null,8,["modelValue"])]),D,t("div",B,[n(r,{type:"text",label:"Bank Name",modelValue:o.worker.account.bank.name,"onUpdate:modelValue":e[15]||(e[15]=l=>o.worker.account.bank.name=l),"prefix-icon":"usdc"},null,8,["modelValue"]),n(r,{type:"text",label:"Branch",modelValue:o.worker.account.bank.branch,"onUpdate:modelValue":e[16]||(e[16]=l=>o.worker.account.bank.branch=l)},null,8,["modelValue"]),n(r,{type:"text",label:"Account No.",modelValue:o.worker.account.bank.account,"onUpdate:modelValue":e[17]||(e[17]=l=>o.worker.account.bank.account=l),help:"Account No."},null,8,["modelValue"])]),O,t("div",H,[n(r,{type:"text",label:"Kin Name",modelValue:o.worker.nok.name,"onUpdate:modelValue":e[18]||(e[18]=l=>o.worker.nok.name=l),help:"Family Member Full Name"},null,8,["modelValue"]),n(r,{type:"text",label:"Relation",modelValue:o.worker.nok.relation,"onUpdate:modelValue":e[19]||(e[19]=l=>o.worker.nok.relation=l),help:"How are you related"},null,8,["modelValue"])]),L,t("div",I,[n(r,{type:"text",label:"Email",modelValue:o.worker.nok.contact.email,"onUpdate:modelValue":e[20]||(e[20]=l=>o.worker.nok.contact.email=l),"prefix-icon":"email",help:"Email Address"},null,8,["modelValue"]),n(r,{type:"text",label:"Mobile",modelValue:o.worker.nok.contact.mobile,"onUpdate:modelValue":e[21]||(e[21]=l=>o.worker.nok.contact.mobile=l),"prefix-icon":"telephone",help:"Mobile"},null,8,["modelValue"]),n(r,{type:"text",label:"Tel.",modelValue:o.worker.nok.contact.tel,"onUpdate:modelValue":e[22]||(e[22]=l=>o.worker.nok.contact.tel=l),"prefix-icon":"telephone",help:"Telephone"},null,8,["modelValue"])]),q,t("div",J,[t("div",K,[n(r,{type:"text",label:"Lot",modelValue:o.worker.nok.address.lot,"onUpdate:modelValue":e[23]||(e[23]=l=>o.worker.nok.address.lot=l),help:"Address Lot"},null,8,["modelValue"]),n(r,{type:"text",label:"Town",modelValue:o.worker.nok.address.town,"onUpdate:modelValue":e[24]||(e[24]=l=>o.worker.nok.address.town=l),help:"Town Name"},null,8,["modelValue"])]),t("div",z,[n(r,{type:"text",label:"Street",modelValue:o.worker.nok.address.street,"onUpdate:modelValue":e[25]||(e[25]=l=>o.worker.nok.address.street=l),help:"Street Name"},null,8,["modelValue"]),n(r,{id:"parish",modelValue:o.worker.nok.address.city_parish,"onUpdate:modelValue":e[26]||(e[26]=l=>o.worker.nok.address.city_parish=l),type:"select",label:"Parish",placeholder:"Select Parish",options:o.parishes},null,8,["modelValue","options"])])])]),t("div",R,[t("button",{class:"btn btn-primary",onClick:e[27]||(e[27]=(...l)=>i.submitHandler&&i.submitHandler(...l))},"Submit"),t("button",{class:"btn mx-5",onClick:e[28]||(e[28]=(...l)=>i.printForm&&i.printForm(...l))},"Print"),t("button",{class:"btn mx-5",onClick:e[29]||(e[29]=(...l)=>i.cancelSubmit&&i.cancelSubmit(...l))},"Cancel")]),t("ul",Y,[(d(!0),m(c,null,V(o.worker,(l,w)=>(d(),m("li",null,u(w)+" "+u(l),1))),256))])])])],64)}const Z=k(f,[["render",G]]);export{Z as N};
