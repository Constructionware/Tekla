import{_ as lt,o as f,c as _,d as r,t as p,F as A,e as J,h as L,m as W,f as k,b as mt,p as ln,q as ke,r as q,a as We,j as Rt,n as j,x as Xe,u as Q,w as $t,i as rt,y as Ye,s as cn,z as xt}from"./index.d0819ba4.js";import{T as un}from"./tabulator_esm.e1f37e8f.js";const dn={name:"accountWithdrawals",props:{account:{Object},id:{String}}},hn={class:"h-12 bg-gray-300 rounded-md my-5 px-5 py-2"},pn={class:"p-2 h-96 overflow-y-auto"},fn=["onClick"],mn={class:"text-xs"},gn=L(),_n={class:"text-xs font-semibold absolute right-2"},vn=L("Recipient ");function bn(e,t,n,o,i,s){return f(),_(A,null,[r("p",hn,p(n.id)+"/ Account Withdrawals ",1),r("div",null,[r("ul",pn,[(f(!0),_(A,null,J(n.account.transactions.withdraw,a=>(f(),_("li",{class:"h-12 w-full border-b rounded-md my-1 relative cursor-pointer",key:a.ref,onClick:l=>e.$emit("accountTransaction",a)},[r("span",mn,p(a.ref),1),gn,r("span",_n,[vn,r("span",null,p(a.recipient.name),1)])],8,fn))),128))])])],64)}const yn=lt(dn,[["render",bn]]),wn={key:0},Yt={__name:"dCurrency",props:{amount:Number},setup(e){return(t,n)=>e.amount?(f(),_("span",wn,p(new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.amount)),1)):W("",!0)}},xn={props:{id:String,account:Object},components:{DCurrency:Yt,accountWithdrawals:yn},methods:{transferTransaction(e){this.$emit("accountTransaction",e)}}},En={class:"p-2 h-96 overflow-y-auto my-5"},Dn=["onClick"],Sn={class:"text-xs"},Tn={class:"font-bold mx-2"},In=L(),$n={class:"text-xs font-semibold absolute right-2"};function Cn(e,t,n,o,i,s){const a=mt("DCurrency"),l=mt("accountWithdrawals");return f(),_("div",null,[r("ul",En,[(f(!0),_(A,null,J(n.account.transactions.deposit,c=>(f(),_("li",{class:"h-12 w-full border-b rounded-md my-1 relative",key:c.ref,onClick:u=>e.$emit("accountTransaction",c)},[r("span",Sn,p(c.ref),1),L(" "+p(new Date(c.date).toDateString())+" ",1),r("span",Tn,[k(a,{amount:c.amount},null,8,["amount"])]),In,r("span",$n,p(c.payee),1)],8,Dn))),128))]),k(l,{id:n.id,account:n.account,onAccountTransaction:s.transferTransaction},null,8,["id","account","onAccountTransaction"])])}const Ms=lt(xn,[["render",Cn]]);/*!
  * vue-draggable-next v2.1.0
  * (c) 2021 Anish George
  * @license MIT
  *//**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,o)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Oe(Object(n),!0).forEach(function(o){kn(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function Jt(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Jt=function(t){return typeof t}:Jt=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jt(e)}function kn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function at(){return at=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},at.apply(this,arguments)}function On(e,t){if(e==null)return{};var n={},o=Object.keys(e),i,s;for(s=0;s<o.length;s++)i=o[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Pn(e,t){if(e==null)return{};var n=On(e,t),o,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)o=s[i],!(t.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,o)||(n[o]=e[o]))}return n}var An="1.14.0";function st(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var ct=st(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Bt=st(/Edge/i),Pe=st(/firefox/i),jt=st(/safari/i)&&!st(/chrome/i)&&!st(/android/i),Be=st(/iP(ad|od|hone)/i),Nn=st(/chrome/i)&&st(/android/i),qe={capture:!1,passive:!1};function T(e,t,n){e.addEventListener(t,n,!ct&&qe)}function S(e,t,n){e.removeEventListener(t,n,!ct&&qe)}function oe(e,t){if(!!t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function Mn(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function et(e,t,n,o){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&oe(e,t):oe(e,t))||o&&e===n)return e;if(e===n)break}while(e=Mn(e))}return null}var Ae=/\s+/g;function Y(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(Ae," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(Ae," ")}}function b(e,t,n){var o=e&&e.style;if(o){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in o)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),o[t]=n+(typeof n=="string"?"":"px")}}function It(e,t){var n="";if(typeof e=="string")n=e;else do{var o=b(e,"transform");o&&o!=="none"&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function Ge(e,t,n){if(e){var o=e.getElementsByTagName(t),i=0,s=o.length;if(n)for(;i<s;i++)n(o[i],i);return o}return[]}function nt(){var e=document.scrollingElement;return e||document.documentElement}function P(e,t,n,o,i){if(!(!e.getBoundingClientRect&&e!==window)){var s,a,l,c,u,m,h;if(e!==window&&e.parentNode&&e!==nt()?(s=e.getBoundingClientRect(),a=s.top,l=s.left,c=s.bottom,u=s.right,m=s.height,h=s.width):(a=0,l=0,c=window.innerHeight,u=window.innerWidth,m=window.innerHeight,h=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!ct))do if(i&&i.getBoundingClientRect&&(b(i,"transform")!=="none"||n&&b(i,"position")!=="static")){var g=i.getBoundingClientRect();a-=g.top+parseInt(b(i,"border-top-width")),l-=g.left+parseInt(b(i,"border-left-width")),c=a+s.height,u=l+s.width;break}while(i=i.parentNode);if(o&&e!==window){var E=It(i||e),w=E&&E.a,x=E&&E.d;E&&(a/=x,l/=w,h/=w,m/=x,c=a+m,u=l+h)}return{top:a,left:l,bottom:c,right:u,width:h,height:m}}}function Ne(e,t,n){for(var o=ft(e,!0),i=P(e)[t];o;){var s=P(o)[n],a=void 0;if(n==="top"||n==="left"?a=i>=s:a=i<=s,!a)return o;if(o===nt())break;o=ft(o,!1)}return!1}function Ct(e,t,n,o){for(var i=0,s=0,a=e.children;s<a.length;){if(a[s].style.display!=="none"&&a[s]!==y.ghost&&(o||a[s]!==y.dragged)&&et(a[s],n.draggable,e,!1)){if(i===t)return a[s];i++}s++}return null}function Te(e,t){for(var n=e.lastElementChild;n&&(n===y.ghost||b(n,"display")==="none"||t&&!oe(n,t));)n=n.previousElementSibling;return n||null}function z(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==y.clone&&(!t||oe(e,t))&&n++;return n}function Me(e){var t=0,n=0,o=nt();if(e)do{var i=It(e),s=i.a,a=i.d;t+=e.scrollLeft*s,n+=e.scrollTop*a}while(e!==o&&(e=e.parentNode));return[t,n]}function Fn(e,t){for(var n in e)if(!!e.hasOwnProperty(n)){for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[n][o])return Number(n)}return-1}function ft(e,t){if(!e||!e.getBoundingClientRect)return nt();var n=e,o=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=b(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return nt();if(o||t)return n;o=!0}}while(n=n.parentNode);return nt()}function Vn(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function ce(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var Lt;function ze(e,t){return function(){if(!Lt){var n=arguments,o=this;n.length===1?e.call(o,n[0]):e.apply(o,n),Lt=setTimeout(function(){Lt=void 0},t)}}}function Rn(){clearTimeout(Lt),Lt=void 0}function He(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Ke(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var G="Sortable"+new Date().getTime();function jn(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(i){if(!(b(i,"display")==="none"||i===y.ghost)){e.push({target:i,rect:P(i)});var s=ot({},e[e.length-1].rect);if(i.thisAnimationDuration){var a=It(i,!0);a&&(s.top-=a.f,s.left-=a.e)}i.fromRect=s}})}},addAnimationState:function(o){e.push(o)},removeAnimationState:function(o){e.splice(Fn(e,{target:o}),1)},animateAll:function(o){var i=this;if(!this.options.animation){clearTimeout(t),typeof o=="function"&&o();return}var s=!1,a=0;e.forEach(function(l){var c=0,u=l.target,m=u.fromRect,h=P(u),g=u.prevFromRect,E=u.prevToRect,w=l.rect,x=It(u,!0);x&&(h.top-=x.f,h.left-=x.e),u.toRect=h,u.thisAnimationDuration&&ce(g,h)&&!ce(m,h)&&(w.top-h.top)/(w.left-h.left)===(m.top-h.top)/(m.left-h.left)&&(c=Un(w,g,E,i.options)),ce(h,m)||(u.prevFromRect=m,u.prevToRect=h,c||(c=i.options.animation),i.animate(u,w,h,c)),c&&(s=!0,a=Math.max(a,c),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},c),u.thisAnimationDuration=c)}),clearTimeout(t),s?t=setTimeout(function(){typeof o=="function"&&o()},a):typeof o=="function"&&o(),e=[]},animate:function(o,i,s,a){if(a){b(o,"transition",""),b(o,"transform","");var l=It(this.el),c=l&&l.a,u=l&&l.d,m=(i.left-s.left)/(c||1),h=(i.top-s.top)/(u||1);o.animatingX=!!m,o.animatingY=!!h,b(o,"transform","translate3d("+m+"px,"+h+"px,0)"),this.forRepaintDummy=Ln(o),b(o,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),b(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){b(o,"transition",""),b(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},a)}}}}function Ln(e){return e.offsetWidth}function Un(e,t,n,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*o.animation}var Et=[],ue={initializeByDefault:!0},qt={mount:function(t){for(var n in ue)ue.hasOwnProperty(n)&&!(n in t)&&(t[n]=ue[n]);Et.forEach(function(o){if(o.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Et.push(t)},pluginEvent:function(t,n,o){var i=this;this.eventCanceled=!1,o.cancel=function(){i.eventCanceled=!0};var s=t+"Global";Et.forEach(function(a){!n[a.pluginName]||(n[a.pluginName][s]&&n[a.pluginName][s](ot({sortable:n},o)),n.options[a.pluginName]&&n[a.pluginName][t]&&n[a.pluginName][t](ot({sortable:n},o)))})},initializePlugins:function(t,n,o,i){Et.forEach(function(l){var c=l.pluginName;if(!(!t.options[c]&&!l.initializeByDefault)){var u=new l(t,n,t.options);u.sortable=t,u.options=t.options,t[c]=u,at(o,u.defaults)}});for(var s in t.options)if(!!t.options.hasOwnProperty(s)){var a=this.modifyOption(t,s,t.options[s]);typeof a<"u"&&(t.options[s]=a)}},getEventProperties:function(t,n){var o={};return Et.forEach(function(i){typeof i.eventProperties=="function"&&at(o,i.eventProperties.call(n[i.pluginName],t))}),o},modifyOption:function(t,n,o){var i;return Et.forEach(function(s){!t[s.pluginName]||s.optionListeners&&typeof s.optionListeners[n]=="function"&&(i=s.optionListeners[n].call(t[s.pluginName],o))}),i}};function Wn(e){var t=e.sortable,n=e.rootEl,o=e.name,i=e.targetEl,s=e.cloneEl,a=e.toEl,l=e.fromEl,c=e.oldIndex,u=e.newIndex,m=e.oldDraggableIndex,h=e.newDraggableIndex,g=e.originalEvent,E=e.putSortable,w=e.extraEventProperties;if(t=t||n&&n[G],!!t){var x,v=t.options,F="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!ct&&!Bt?x=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(x=document.createEvent("Event"),x.initEvent(o,!0,!0)),x.to=a||n,x.from=l||n,x.item=i||n,x.clone=s,x.oldIndex=c,x.newIndex=u,x.oldDraggableIndex=m,x.newDraggableIndex=h,x.originalEvent=g,x.pullMode=E?E.lastPutMode:void 0;var V=ot(ot({},w),qt.getEventProperties(o,t));for(var H in V)x[H]=V[H];n&&n.dispatchEvent(x),v[F]&&v[F].call(t,x)}}var Xn=["evt"],U=function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=o.evt,s=Pn(o,Xn);qt.pluginEvent.bind(y)(t,n,ot({dragEl:d,parentEl:$,ghostEl:D,rootEl:I,nextEl:wt,lastDownEl:Zt,cloneEl:C,cloneHidden:pt,dragStarted:Mt,putSortable:N,activeSortable:y.active,originalEvent:i,oldIndex:Tt,oldDraggableIndex:Ut,newIndex:B,newDraggableIndex:ht,hideGhostForTarget:tn,unhideGhostForTarget:en,cloneNowHidden:function(){pt=!0},cloneNowShown:function(){pt=!1},dispatchSortableEvent:function(l){R({sortable:n,name:l,originalEvent:i})}},s))};function R(e){Wn(ot({putSortable:N,cloneEl:C,targetEl:d,rootEl:I,oldIndex:Tt,oldDraggableIndex:Ut,newIndex:B,newDraggableIndex:ht},e))}var d,$,D,I,wt,Zt,C,pt,Tt,B,Ut,ht,zt,N,St=!1,ie=!1,re=[],bt,K,de,he,Fe,Ve,Mt,Dt,Wt,Xt=!1,Ht=!1,te,M,pe=[],ye=!1,se=[],le=typeof document<"u",Kt=Be,Re=Bt||ct?"cssFloat":"float",Yn=le&&!Nn&&!Be&&"draggable"in document.createElement("div"),Qe=function(){if(!!le){if(ct)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Je=function(t,n){var o=b(t),i=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),s=Ct(t,0,n),a=Ct(t,1,n),l=s&&b(s),c=a&&b(a),u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+P(s).width,m=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+P(a).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&l.float&&l.float!=="none"){var h=l.float==="left"?"left":"right";return a&&(c.clear==="both"||c.clear===h)?"vertical":"horizontal"}return s&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||u>=i&&o[Re]==="none"||a&&o[Re]==="none"&&u+m>i)?"vertical":"horizontal"},Bn=function(t,n,o){var i=o?t.left:t.top,s=o?t.right:t.bottom,a=o?t.width:t.height,l=o?n.left:n.top,c=o?n.right:n.bottom,u=o?n.width:n.height;return i===l||s===c||i+a/2===l+u/2},qn=function(t,n){var o;return re.some(function(i){var s=i[G].options.emptyInsertThreshold;if(!(!s||Te(i))){var a=P(i),l=t>=a.left-s&&t<=a.right+s,c=n>=a.top-s&&n<=a.bottom+s;if(l&&c)return o=i}}),o},Ze=function(t){function n(s,a){return function(l,c,u,m){var h=l.options.group.name&&c.options.group.name&&l.options.group.name===c.options.group.name;if(s==null&&(a||h))return!0;if(s==null||s===!1)return!1;if(a&&s==="clone")return s;if(typeof s=="function")return n(s(l,c,u,m),a)(l,c,u,m);var g=(a?l:c).options.group.name;return s===!0||typeof s=="string"&&s===g||s.join&&s.indexOf(g)>-1}}var o={},i=t.group;(!i||Jt(i)!="object")&&(i={name:i}),o.name=i.name,o.checkPull=n(i.pull,!0),o.checkPut=n(i.put),o.revertClone=i.revertClone,t.group=o},tn=function(){!Qe&&D&&b(D,"display","none")},en=function(){!Qe&&D&&b(D,"display","")};le&&document.addEventListener("click",function(e){if(ie)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),ie=!1,!1},!0);var yt=function(t){if(d){t=t.touches?t.touches[0]:t;var n=qn(t.clientX,t.clientY);if(n){var o={};for(var i in t)t.hasOwnProperty(i)&&(o[i]=t[i]);o.target=o.rootEl=n,o.preventDefault=void 0,o.stopPropagation=void 0,n[G]._onDragOver(o)}}},Gn=function(t){d&&d.parentNode[G]._isOutsideThisEl(t.target)};function y(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=at({},t),e[G]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Je(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,l){a.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:y.supportPointer!==!1&&"PointerEvent"in window&&!jt,emptyInsertThreshold:5};qt.initializePlugins(this,e,n);for(var o in n)!(o in t)&&(t[o]=n[o]);Ze(t);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=t.forceFallback?!1:Yn,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?T(e,"pointerdown",this._onTapStart):(T(e,"mousedown",this._onTapStart),T(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(T(e,"dragover",this),T(e,"dragenter",this)),re.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),at(this,jn())}y.prototype={constructor:y,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Dt=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,d):this.options.direction},_onTapStart:function(t){if(!!t.cancelable){var n=this,o=this.el,i=this.options,s=i.preventOnFilter,a=t.type,l=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,c=(l||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||c,m=i.filter;if(eo(o),!d&&!(/mousedown|pointerdown/.test(a)&&t.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&jt&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=et(c,i.draggable,o,!1),!(c&&c.animated)&&Zt!==c)){if(Tt=z(c),Ut=z(c,i.draggable),typeof m=="function"){if(m.call(this,t,c,this)){R({sortable:n,rootEl:u,name:"filter",targetEl:c,toEl:o,fromEl:o}),U("filter",n,{evt:t}),s&&t.cancelable&&t.preventDefault();return}}else if(m&&(m=m.split(",").some(function(h){if(h=et(u,h.trim(),o,!1),h)return R({sortable:n,rootEl:h,name:"filter",targetEl:c,fromEl:o,toEl:o}),U("filter",n,{evt:t}),!0}),m)){s&&t.cancelable&&t.preventDefault();return}i.handle&&!et(u,i.handle,o,!1)||this._prepareDragStart(t,l,c)}}},_prepareDragStart:function(t,n,o){var i=this,s=i.el,a=i.options,l=s.ownerDocument,c;if(o&&!d&&o.parentNode===s){var u=P(o);if(I=s,d=o,$=d.parentNode,wt=d.nextSibling,Zt=o,zt=a.group,y.dragged=d,bt={target:d,clientX:(n||t).clientX,clientY:(n||t).clientY},Fe=bt.clientX-u.left,Ve=bt.clientY-u.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,d.style["will-change"]="all",c=function(){if(U("delayEnded",i,{evt:t}),y.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!Pe&&i.nativeDraggable&&(d.draggable=!0),i._triggerDragStart(t,n),R({sortable:i,name:"choose",originalEvent:t}),Y(d,a.chosenClass,!0)},a.ignore.split(",").forEach(function(m){Ge(d,m.trim(),fe)}),T(l,"dragover",yt),T(l,"mousemove",yt),T(l,"touchmove",yt),T(l,"mouseup",i._onDrop),T(l,"touchend",i._onDrop),T(l,"touchcancel",i._onDrop),Pe&&this.nativeDraggable&&(this.options.touchStartThreshold=4,d.draggable=!0),U("delayStart",this,{evt:t}),a.delay&&(!a.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Bt||ct))){if(y.eventCanceled){this._onDrop();return}T(l,"mouseup",i._disableDelayedDrag),T(l,"touchend",i._disableDelayedDrag),T(l,"touchcancel",i._disableDelayedDrag),T(l,"mousemove",i._delayedDragTouchMoveHandler),T(l,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&T(l,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(c,a.delay)}else c()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){d&&fe(d),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;S(t,"mouseup",this._disableDelayedDrag),S(t,"touchend",this._disableDelayedDrag),S(t,"touchcancel",this._disableDelayedDrag),S(t,"mousemove",this._delayedDragTouchMoveHandler),S(t,"touchmove",this._delayedDragTouchMoveHandler),S(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?T(document,"pointermove",this._onTouchMove):n?T(document,"touchmove",this._onTouchMove):T(document,"mousemove",this._onTouchMove):(T(d,"dragend",this),T(I,"dragstart",this._onDragStart));try{document.selection?ee(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(St=!1,I&&d){U("dragStarted",this,{evt:n}),this.nativeDraggable&&T(document,"dragover",Gn);var o=this.options;!t&&Y(d,o.dragClass,!1),Y(d,o.ghostClass,!0),y.active=this,t&&this._appendGhost(),R({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(K){this._lastX=K.clientX,this._lastY=K.clientY,tn();for(var t=document.elementFromPoint(K.clientX,K.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(K.clientX,K.clientY),t!==n);)n=t;if(d.parentNode[G]._isOutsideThisEl(t),n)do{if(n[G]){var o=void 0;if(o=n[G]._onDragOver({clientX:K.clientX,clientY:K.clientY,target:t,rootEl:n}),o&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);en()}},_onTouchMove:function(t){if(bt){var n=this.options,o=n.fallbackTolerance,i=n.fallbackOffset,s=t.touches?t.touches[0]:t,a=D&&It(D,!0),l=D&&a&&a.a,c=D&&a&&a.d,u=Kt&&M&&Me(M),m=(s.clientX-bt.clientX+i.x)/(l||1)+(u?u[0]-pe[0]:0)/(l||1),h=(s.clientY-bt.clientY+i.y)/(c||1)+(u?u[1]-pe[1]:0)/(c||1);if(!y.active&&!St){if(o&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<o)return;this._onDragStart(t,!0)}if(D){a?(a.e+=m-(de||0),a.f+=h-(he||0)):a={a:1,b:0,c:0,d:1,e:m,f:h};var g="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");b(D,"webkitTransform",g),b(D,"mozTransform",g),b(D,"msTransform",g),b(D,"transform",g),de=m,he=h,K=s}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!D){var t=this.options.fallbackOnBody?document.body:I,n=P(d,!0,Kt,!0,t),o=this.options;if(Kt){for(M=t;b(M,"position")==="static"&&b(M,"transform")==="none"&&M!==document;)M=M.parentNode;M!==document.body&&M!==document.documentElement?(M===document&&(M=nt()),n.top+=M.scrollTop,n.left+=M.scrollLeft):M=nt(),pe=Me(M)}D=d.cloneNode(!0),Y(D,o.ghostClass,!1),Y(D,o.fallbackClass,!0),Y(D,o.dragClass,!0),b(D,"transition",""),b(D,"transform",""),b(D,"box-sizing","border-box"),b(D,"margin",0),b(D,"top",n.top),b(D,"left",n.left),b(D,"width",n.width),b(D,"height",n.height),b(D,"opacity","0.8"),b(D,"position",Kt?"absolute":"fixed"),b(D,"zIndex","100000"),b(D,"pointerEvents","none"),y.ghost=D,t.appendChild(D),b(D,"transform-origin",Fe/parseInt(D.style.width)*100+"% "+Ve/parseInt(D.style.height)*100+"%")}},_onDragStart:function(t,n){var o=this,i=t.dataTransfer,s=o.options;if(U("dragStart",this,{evt:t}),y.eventCanceled){this._onDrop();return}U("setupClone",this),y.eventCanceled||(C=Ke(d),C.draggable=!1,C.style["will-change"]="",this._hideClone(),Y(C,this.options.chosenClass,!1),y.clone=C),o.cloneId=ee(function(){U("clone",o),!y.eventCanceled&&(o.options.removeCloneOnHide||I.insertBefore(C,d),o._hideClone(),R({sortable:o,name:"clone"}))}),!n&&Y(d,s.dragClass,!0),n?(ie=!0,o._loopId=setInterval(o._emulateDragOver,50)):(S(document,"mouseup",o._onDrop),S(document,"touchend",o._onDrop),S(document,"touchcancel",o._onDrop),i&&(i.effectAllowed="move",s.setData&&s.setData.call(o,i,d)),T(document,"drop",o),b(d,"transform","translateZ(0)")),St=!0,o._dragStartId=ee(o._dragStarted.bind(o,n,t)),T(document,"selectstart",o),Mt=!0,jt&&b(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,o=t.target,i,s,a,l=this.options,c=l.group,u=y.active,m=zt===c,h=l.sort,g=N||u,E,w=this,x=!1;if(ye)return;function v(Nt,sn){U(Nt,w,ot({evt:t,isOwner:m,axis:E?"vertical":"horizontal",revert:a,dragRect:i,targetRect:s,canSort:h,fromSortable:g,target:o,completed:V,onMove:function(Ce,an){return Qt(I,n,d,i,Ce,P(Ce),t,an)},changed:H},sn))}function F(){v("dragOverAnimationCapture"),w.captureAnimationState(),w!==g&&g.captureAnimationState()}function V(Nt){return v("dragOverCompleted",{insertion:Nt}),Nt&&(m?u._hideClone():u._showClone(w),w!==g&&(Y(d,N?N.options.ghostClass:u.options.ghostClass,!1),Y(d,l.ghostClass,!0)),N!==w&&w!==y.active?N=w:w===y.active&&N&&(N=null),g===w&&(w._ignoreWhileAnimating=o),w.animateAll(function(){v("dragOverAnimationComplete"),w._ignoreWhileAnimating=null}),w!==g&&(g.animateAll(),g._ignoreWhileAnimating=null)),(o===d&&!d.animated||o===n&&!o.animated)&&(Dt=null),!l.dragoverBubble&&!t.rootEl&&o!==document&&(d.parentNode[G]._isOutsideThisEl(t.target),!Nt&&yt(t)),!l.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),x=!0}function H(){B=z(d),ht=z(d,l.draggable),R({sortable:w,name:"change",toEl:n,newIndex:B,newDraggableIndex:ht,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),o=et(o,l.draggable,n,!0),v("dragOver"),y.eventCanceled)return x;if(d.contains(t.target)||o.animated&&o.animatingX&&o.animatingY||w._ignoreWhileAnimating===o)return V(!1);if(ie=!1,u&&!l.disabled&&(m?h||(a=$!==I):N===this||(this.lastPutMode=zt.checkPull(this,u,d,t))&&c.checkPut(this,u,d,t))){if(E=this._getDirection(t,o)==="vertical",i=P(d),v("dragOverValid"),y.eventCanceled)return x;if(a)return $=I,F(),this._hideClone(),v("revert"),y.eventCanceled||(wt?I.insertBefore(d,wt):I.appendChild(d)),V(!0);var Z=Te(n,l.draggable);if(!Z||Qn(t,E,this)&&!Z.animated){if(Z===d)return V(!1);if(Z&&n===t.target&&(o=Z),o&&(s=P(o)),Qt(I,n,d,i,o,s,t,!!o)!==!1)return F(),n.appendChild(d),$=n,H(),V(!0)}else if(Z&&Kn(t,E,this)){var gt=Ct(n,0,l,!0);if(gt===d)return V(!1);if(o=gt,s=P(o),Qt(I,n,d,i,o,s,t,!1)!==!1)return F(),n.insertBefore(d,gt),$=n,H(),V(!0)}else if(o.parentNode===n){s=P(o);var tt=0,_t,kt=d.parentNode!==n,X=!Bn(d.animated&&d.toRect||i,o.animated&&o.toRect||s,E),Ot=E?"top":"left",ut=Ne(o,"top","top")||Ne(d,"top","top"),Pt=ut?ut.scrollTop:void 0;Dt!==o&&(_t=s[Ot],Xt=!1,Ht=!X&&l.invertSwap||kt),tt=Jn(t,o,s,E,X?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,Ht,Dt===o);var it;if(tt!==0){var vt=z(d);do vt-=tt,it=$.children[vt];while(it&&(b(it,"display")==="none"||it===D))}if(tt===0||it===o)return V(!1);Dt=o,Wt=tt;var At=o.nextElementSibling,dt=!1;dt=tt===1;var Gt=Qt(I,n,d,i,o,s,t,dt);if(Gt!==!1)return(Gt===1||Gt===-1)&&(dt=Gt===1),ye=!0,setTimeout(Hn,30),F(),dt&&!At?n.appendChild(d):o.parentNode.insertBefore(d,dt?At:o),ut&&He(ut,0,Pt-ut.scrollTop),$=d.parentNode,_t!==void 0&&!Ht&&(te=Math.abs(_t-P(o)[Ot])),H(),V(!0)}if(n.contains(d))return V(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){S(document,"mousemove",this._onTouchMove),S(document,"touchmove",this._onTouchMove),S(document,"pointermove",this._onTouchMove),S(document,"dragover",yt),S(document,"mousemove",yt),S(document,"touchmove",yt)},_offUpEvents:function(){var t=this.el.ownerDocument;S(t,"mouseup",this._onDrop),S(t,"touchend",this._onDrop),S(t,"pointerup",this._onDrop),S(t,"touchcancel",this._onDrop),S(document,"selectstart",this)},_onDrop:function(t){var n=this.el,o=this.options;if(B=z(d),ht=z(d,o.draggable),U("drop",this,{evt:t}),$=d&&d.parentNode,B=z(d),ht=z(d,o.draggable),y.eventCanceled){this._nulling();return}St=!1,Ht=!1,Xt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),we(this.cloneId),we(this._dragStartId),this.nativeDraggable&&(S(document,"drop",this),S(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),jt&&b(document.body,"user-select",""),b(d,"transform",""),t&&(Mt&&(t.cancelable&&t.preventDefault(),!o.dropBubble&&t.stopPropagation()),D&&D.parentNode&&D.parentNode.removeChild(D),(I===$||N&&N.lastPutMode!=="clone")&&C&&C.parentNode&&C.parentNode.removeChild(C),d&&(this.nativeDraggable&&S(d,"dragend",this),fe(d),d.style["will-change"]="",Mt&&!St&&Y(d,N?N.options.ghostClass:this.options.ghostClass,!1),Y(d,this.options.chosenClass,!1),R({sortable:this,name:"unchoose",toEl:$,newIndex:null,newDraggableIndex:null,originalEvent:t}),I!==$?(B>=0&&(R({rootEl:$,name:"add",toEl:$,fromEl:I,originalEvent:t}),R({sortable:this,name:"remove",toEl:$,originalEvent:t}),R({rootEl:$,name:"sort",toEl:$,fromEl:I,originalEvent:t}),R({sortable:this,name:"sort",toEl:$,originalEvent:t})),N&&N.save()):B!==Tt&&B>=0&&(R({sortable:this,name:"update",toEl:$,originalEvent:t}),R({sortable:this,name:"sort",toEl:$,originalEvent:t})),y.active&&((B==null||B===-1)&&(B=Tt,ht=Ut),R({sortable:this,name:"end",toEl:$,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){U("nulling",this),I=d=$=D=wt=C=Zt=pt=bt=K=Mt=B=ht=Tt=Ut=Dt=Wt=N=zt=y.dragged=y.ghost=y.clone=y.active=null,se.forEach(function(t){t.checked=!0}),se.length=de=he=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":d&&(this._onDragOver(t),zn(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,o=this.el.children,i=0,s=o.length,a=this.options;i<s;i++)n=o[i],et(n,a.draggable,this.el,!1)&&t.push(n.getAttribute(a.dataIdAttr)||to(n));return t},sort:function(t,n){var o={},i=this.el;this.toArray().forEach(function(s,a){var l=i.children[a];et(l,this.options.draggable,i,!1)&&(o[s]=l)},this),n&&this.captureAnimationState(),t.forEach(function(s){o[s]&&(i.removeChild(o[s]),i.appendChild(o[s]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return et(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var o=this.options;if(n===void 0)return o[t];var i=qt.modifyOption(this,t,n);typeof i<"u"?o[t]=i:o[t]=n,t==="group"&&Ze(o)},destroy:function(){U("destroy",this);var t=this.el;t[G]=null,S(t,"mousedown",this._onTapStart),S(t,"touchstart",this._onTapStart),S(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(S(t,"dragover",this),S(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),re.splice(re.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!pt){if(U("hideClone",this),y.eventCanceled)return;b(C,"display","none"),this.options.removeCloneOnHide&&C.parentNode&&C.parentNode.removeChild(C),pt=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(pt){if(U("showClone",this),y.eventCanceled)return;d.parentNode==I&&!this.options.group.revertClone?I.insertBefore(C,d):wt?I.insertBefore(C,wt):I.appendChild(C),this.options.group.revertClone&&this.animate(d,C),b(C,"display",""),pt=!1}}};function zn(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Qt(e,t,n,o,i,s,a,l){var c,u=e[G],m=u.options.onMove,h;return window.CustomEvent&&!ct&&!Bt?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=t,c.from=e,c.dragged=n,c.draggedRect=o,c.related=i||t,c.relatedRect=s||P(t),c.willInsertAfter=l,c.originalEvent=a,e.dispatchEvent(c),m&&(h=m.call(u,c,a)),h}function fe(e){e.draggable=!1}function Hn(){ye=!1}function Kn(e,t,n){var o=P(Ct(n.el,0,n.options,!0)),i=10;return t?e.clientX<o.left-i||e.clientY<o.top&&e.clientX<o.right:e.clientY<o.top-i||e.clientY<o.bottom&&e.clientX<o.left}function Qn(e,t,n){var o=P(Te(n.el,n.options.draggable)),i=10;return t?e.clientX>o.right+i||e.clientX<=o.right&&e.clientY>o.bottom&&e.clientX>=o.left:e.clientX>o.right&&e.clientY>o.top||e.clientX<=o.right&&e.clientY>o.bottom+i}function Jn(e,t,n,o,i,s,a,l){var c=o?e.clientY:e.clientX,u=o?n.height:n.width,m=o?n.top:n.left,h=o?n.bottom:n.right,g=!1;if(!a){if(l&&te<u*i){if(!Xt&&(Wt===1?c>m+u*s/2:c<h-u*s/2)&&(Xt=!0),Xt)g=!0;else if(Wt===1?c<m+te:c>h-te)return-Wt}else if(c>m+u*(1-i)/2&&c<h-u*(1-i)/2)return Zn(t)}return g=g||a,g&&(c<m+u*s/2||c>h-u*s/2)?c>m+u/2?1:-1:0}function Zn(e){return z(d)<z(e)?1:-1}function to(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function eo(e){se.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var o=t[n];o.checked&&se.push(o)}}function ee(e){return setTimeout(e,0)}function we(e){return clearTimeout(e)}le&&T(document,"touchmove",function(e){(y.active||St)&&e.cancelable&&e.preventDefault()});y.utils={on:T,off:S,css:b,find:Ge,is:function(t,n){return!!et(t,n,t,!1)},extend:Vn,throttle:ze,closest:et,toggleClass:Y,clone:Ke,index:z,nextTick:ee,cancelNextTick:we,detectDirection:Je,getChild:Ct};y.get=function(e){return e[G]};y.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(y.utils=ot(ot({},y.utils),o.utils)),qt.mount(o)})};y.create=function(e,t){return new y(e,t)};y.version=An;var O=[],Ft,xe,Ee=!1,me,ge,ae,Vt;function no(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var o=n.originalEvent;this.sortable.nativeDraggable?T(document,"dragover",this._handleAutoScroll):this.options.supportPointer?T(document,"pointermove",this._handleFallbackAutoScroll):o.touches?T(document,"touchmove",this._handleFallbackAutoScroll):T(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var o=n.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?S(document,"dragover",this._handleAutoScroll):(S(document,"pointermove",this._handleFallbackAutoScroll),S(document,"touchmove",this._handleFallbackAutoScroll),S(document,"mousemove",this._handleFallbackAutoScroll)),je(),ne(),Rn()},nulling:function(){ae=xe=Ft=Ee=Vt=me=ge=null,O.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,o){var i=this,s=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,l=document.elementFromPoint(s,a);if(ae=n,o||this.options.forceAutoScrollFallback||Bt||ct||jt){_e(n,this.options,l,o);var c=ft(l,!0);Ee&&(!Vt||s!==me||a!==ge)&&(Vt&&je(),Vt=setInterval(function(){var u=ft(document.elementFromPoint(s,a),!0);u!==c&&(c=u,ne()),_e(n,i.options,u,o)},10),me=s,ge=a)}else{if(!this.options.bubbleScroll||ft(l,!0)===nt()){ne();return}_e(n,this.options,ft(l,!1),!1)}}},at(e,{pluginName:"scroll",initializeByDefault:!0})}function ne(){O.forEach(function(e){clearInterval(e.pid)}),O=[]}function je(){clearInterval(Vt)}var _e=ze(function(e,t,n,o){if(!!t.scroll){var i=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,a=t.scrollSensitivity,l=t.scrollSpeed,c=nt(),u=!1,m;xe!==n&&(xe=n,ne(),Ft=t.scroll,m=t.scrollFn,Ft===!0&&(Ft=ft(n,!0)));var h=0,g=Ft;do{var E=g,w=P(E),x=w.top,v=w.bottom,F=w.left,V=w.right,H=w.width,Z=w.height,gt=void 0,tt=void 0,_t=E.scrollWidth,kt=E.scrollHeight,X=b(E),Ot=E.scrollLeft,ut=E.scrollTop;E===c?(gt=H<_t&&(X.overflowX==="auto"||X.overflowX==="scroll"||X.overflowX==="visible"),tt=Z<kt&&(X.overflowY==="auto"||X.overflowY==="scroll"||X.overflowY==="visible")):(gt=H<_t&&(X.overflowX==="auto"||X.overflowX==="scroll"),tt=Z<kt&&(X.overflowY==="auto"||X.overflowY==="scroll"));var Pt=gt&&(Math.abs(V-i)<=a&&Ot+H<_t)-(Math.abs(F-i)<=a&&!!Ot),it=tt&&(Math.abs(v-s)<=a&&ut+Z<kt)-(Math.abs(x-s)<=a&&!!ut);if(!O[h])for(var vt=0;vt<=h;vt++)O[vt]||(O[vt]={});(O[h].vx!=Pt||O[h].vy!=it||O[h].el!==E)&&(O[h].el=E,O[h].vx=Pt,O[h].vy=it,clearInterval(O[h].pid),(Pt!=0||it!=0)&&(u=!0,O[h].pid=setInterval(function(){o&&this.layer===0&&y.active._onTouchMove(ae);var At=O[this.layer].vy?O[this.layer].vy*l:0,dt=O[this.layer].vx?O[this.layer].vx*l:0;typeof m=="function"&&m.call(y.dragged.parentNode[G],dt,At,e,ae,O[this.layer].el)!=="continue"||He(O[this.layer].el,dt,At)}.bind({layer:h}),24))),h++}while(t.bubbleScroll&&g!==c&&(g=ft(g,!1)));Ee=u}},30),nn=function(t){var n=t.originalEvent,o=t.putSortable,i=t.dragEl,s=t.activeSortable,a=t.dispatchSortableEvent,l=t.hideGhostForTarget,c=t.unhideGhostForTarget;if(!!n){var u=o||s;l();var m=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,h=document.elementFromPoint(m.clientX,m.clientY);c(),u&&!u.el.contains(h)&&(a("spill"),this.onSpill({dragEl:i,putSortable:o}))}};function Ie(){}Ie.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,o=t.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var i=Ct(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),o&&o.animateAll()},drop:nn};at(Ie,{pluginName:"revertOnSpill"});function $e(){}$e.prototype={onSpill:function(t){var n=t.dragEl,o=t.putSortable,i=o||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:nn};at($e,{pluginName:"removeOnSpill"});y.mount(new no);y.mount($e,Ie);function oo(){return typeof window<"u"?window.console:global.console}const io=oo();function ro(e){const t=Object.create(null);return function(o){return t[o]||(t[o]=e(o))}}const so=/-(\w)/g,Le=ro(e=>e.replace(so,(t,n)=>n?n.toUpperCase():""));function ve(e){e.parentElement!==null&&e.parentElement.removeChild(e)}function Ue(e,t,n){const o=n===0?e.children[0]:e.children[n-1].nextSibling;e.insertBefore(t,o)}function ao(e,t){return Object.values(e).indexOf(t)}function lo(e,t,n,o){if(!e)return[];const i=Object.values(e),s=t.length-o;return[...t].map((l,c)=>c>=s?i.length:i.indexOf(l))}function on(e,t){this.$nextTick(()=>this.$emit(e.toLowerCase(),t))}function co(e){return t=>{this.realList!==null&&this["onDrag"+e](t),on.call(this,e,t)}}function uo(e){return["transition-group","TransitionGroup"].includes(e)}function ho(e){if(!e||e.length!==1)return!1;const[{type:t}]=e;return t?uo(t.name):!1}function po(e,t){return t?{...t.props,...t.attrs}:e}const De=["Start","Add","Remove","Update","End"],Se=["Choose","Unchoose","Sort","Filter","Clone"],fo=["Move",...De,...Se].map(e=>"on"+e);let be=null;const mo={options:Object,list:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:e=>e},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null},component:{type:String,default:null},modelValue:{type:Array,required:!1,default:null}},rn=ln({name:"VueDraggableNext",inheritAttrs:!1,emits:["update:modelValue","move","change",...De.map(e=>e.toLowerCase()),...Se.map(e=>e.toLowerCase())],props:mo,data(){return{transitionMode:!1,noneFunctionalComponentMode:!1,headerOffset:0,footerOffset:0,_sortable:{},visibleIndexes:[],context:{}}},render(){const e=this.$slots.default?this.$slots.default():null,t=po(this.$attrs,this.componentData);return e?(this.transitionMode=ho(e),ke(this.getTag(),t,e)):ke(this.getTag(),t,[])},created(){this.list!==null&&this.modelValue!==null&&io.error("list props are mutually exclusive! Please set one.")},mounted(){const e={};De.forEach(i=>{e["on"+i]=co.call(this,i)}),Se.forEach(i=>{e["on"+i]=on.bind(this,i)});const t=Object.keys(this.$attrs).reduce((i,s)=>(i[Le(s)]=this.$attrs[s],i),{}),n=Object.assign({},t,e,{onMove:(i,s)=>this.onDragMove(i,s)});!("draggable"in n)&&(n.draggable=">*");const o=this.$el.nodeType===1?this.$el:this.$el.parentElement;this._sortable=new y(o,n),o.__draggable_component__=this,this.computeIndexes()},beforeUnmount(){try{this._sortable!==void 0&&this._sortable.destroy()}catch{}},computed:{realList(){return this.list?this.list:this.modelValue}},watch:{$attrs:{handler(e){this.updateOptions(e)},deep:!0},realList(){this.computeIndexes()}},methods:{getTag(){return this.component?mt(this.component):this.tag},updateOptions(e){for(var t in e){const n=Le(t);fo.indexOf(n)===-1&&this._sortable.option(n,e[t])}},getChildrenNodes(){return this.$el.children},computeIndexes(){this.$nextTick(()=>{this.visibleIndexes=lo(this.getChildrenNodes(),this.$el.children,this.transitionMode,this.footerOffset)})},getUnderlyingVm(e){const t=ao(this.getChildrenNodes()||[],e);if(t===-1)return null;const n=this.realList[t];return{index:t,element:n}},emitChanges(e){this.$nextTick(()=>{this.$emit("change",e)})},alterList(e){if(this.list){e(this.list);return}const t=[...this.modelValue];e(t),this.$emit("update:modelValue",t)},spliceList(){const e=t=>t.splice(...arguments);this.alterList(e)},updatePosition(e,t){const n=o=>o.splice(t,0,o.splice(e,1)[0]);this.alterList(n)},getVmIndex(e){const t=this.visibleIndexes,n=t.length;return e>n-1?n:t[e]},getComponent(){return this.$slots.default?this.$slots.default()[0].componentInstance:null},resetTransitionData(e){if(!this.noTransitionOnDrag||!this.transitionMode)return;var t=this.getChildrenNodes();t[e].data=null;const n=this.getComponent();n.children=[],n.kept=void 0},onDragStart(e){this.context=this.getUnderlyingVm(e.item),this.context&&(e.item._underlying_vm_=this.clone(this.context.element),be=e.item)},onDragAdd(e){const t=e.item._underlying_vm_;if(t===void 0)return;ve(e.item);const n=this.getVmIndex(e.newIndex);this.spliceList(n,0,t),this.computeIndexes();const o={element:t,newIndex:n};this.emitChanges({added:o})},onDragRemove(e){if(Ue(this.$el,e.item,e.oldIndex),e.pullMode==="clone"){ve(e.clone);return}if(!this.context)return;const t=this.context.index;this.spliceList(t,1);const n={element:this.context.element,oldIndex:t};this.resetTransitionData(t),this.emitChanges({removed:n})},onDragUpdate(e){ve(e.item),Ue(e.from,e.item,e.oldIndex);const t=this.context.index,n=this.getVmIndex(e.newIndex);this.updatePosition(t,n);const o={element:this.context.element,oldIndex:t,newIndex:n};this.emitChanges({moved:o})},updateProperty(e,t){e.hasOwnProperty(t)&&(e[t]+=this.headerOffset)},onDragMove(e,t){const n=this.move;if(!n||!this.realList)return!0;const o=this.getRelatedContextFromMoveEvent(e),i=this.context,s=this.computeFutureIndex(o,e);Object.assign(i,{futureIndex:s});const a=Object.assign({},e,{relatedContext:o,draggedContext:i});return n(a,t)},onDragEnd(){this.computeIndexes(),be=null},getTrargetedComponent(e){return e.__draggable_component__},getRelatedContextFromMoveEvent({to:e,related:t}){const n=this.getTrargetedComponent(e);if(!n)return{component:n};const o=n.realList,i={list:o,component:n};if(e!==t&&o&&n.getUnderlyingVm){const s=n.getUnderlyingVm(t);if(s)return Object.assign(s,i)}return i},computeFutureIndex(e,t){const n=[...t.to.children].filter(a=>a.style.display!=="none");if(n.length===0)return 0;const o=n.indexOf(t.related),i=e.component.getVmIndex(o);return n.indexOf(be)!==-1||!t.willInsertAfter?i:i+1}}}),go={class:"flex flex-row h-12 border rounded-md my-2 items-center"},_o={key:0},vo=r("span",{class:"mx-2"}," set project phase ",-1),bo=r("option",{disabled:"",selected:""},"Pick Project Phase",-1),yo=r("option",null,"Preliminary",-1),wo=r("option",null,"Substructure",-1),xo=r("option",null,"Superstructure",-1),Eo=r("option",null,"Roofing",-1),Do=r("option",null,"Finishes",-1),So=[bo,yo,wo,xo,Eo,Do],To={key:1},Io={key:0,class:"flex flex-row my-2 mx-5"},$o={class:"w-1/2 bg-yellow-200 mr-2"},Co=r("p",{class:"py-2 relative"},[L("Tasks Index "),r("span",{class:"mx-5 absolute right-2"},[L("search "),r("input",{type:"text"})])],-1),ko={class:"list-group-item py-2 bg-gray-100 cursor-pointer hover:bg-gray-200 relative"},Oo={class:"text-xs mx-5"},Po={class:"w-1/2 bg-blue-200 ml-2"},Ao=r("p",null,"Project Tasks",-1),No={class:"list-group-item py-2 bg-gray-100 cursor-pointer hover:bg-gray-200 relative"},Mo={class:"dropdown"},Fo=r("label",{tabindex:"0",class:"btn btn-sm btn-primary m-1"},"Qty",-1),Vo={key:0,tabindex:"0",class:"dropdown-content menu p-2 shadow bg-base-100 rounded-box w-52"},Ro=r("li",null,[r("a",null,"Metric Unit")],-1),jo={key:0},Lo={key:1},Uo=["onUpdate:modelValue"],Wo={key:2},Xo={key:1,tabindex:"0",class:"dropdown-content menu p-2 shadow bg-base-100 rounded-box w-52"},Yo=r("li",null,[r("a",null,"Imperial Unit")],-1),Bo={key:0},qo={key:1},Go=["onUpdate:modelValue"],zo={key:2},Ho={class:"dropdown"},Ko=r("label",{tabindex:"0",class:"btn btn-sm btn-primary m-1"},"Assign",-1),Qo={key:0,tabindex:"0",class:"dropdown-content menu p-2 shadow bg-base-100 rounded-box w-52"},Jo=r("li",null,[r("a",null,"Workers")],-1),Zo={wrap:""},ti={class:"dropdown"},ei=r("label",{tabindex:"0",class:"btn btn-sm btn-primary m-1"},"Manage",-1),ni={key:0,tabindex:"0",class:"dropdown-content menu p-2 shadow bg-base-100 rounded-box w-52"},oi=r("li",null,[r("a",null,"State")],-1),ii={class:"absolute right-2"},ri={class:"flex flex-row"},si={class:"flex flex-col text-xs"},ai=r("span",{class:"mx-5 font-semibold"},"phase/category",-1),li={class:"mx-5 tooltip tooltip-right","data-tip":"Project Phase"},ci={class:"mx-5 tooltip tooltip-right","data-tip":"Task Category"},ui={class:"flex flex-col text-xs font-semibold"},di=r("span",{class:"mx-5"},"cost price",-1),hi={key:0,class:"mx-5"},pi={key:1,class:"mx-5"},Fs={__name:"tTask",props:{id:String,standard:null,employees:null,projectTasks:Array},setup(e){const t=e,n=rn;q(0),q();const o=q(!1),i=q(t.projectTasks),s=q([]),a=q([]);q(!1);const l=q("");var c=q([]);function u(){if(window.location.hostname=="localhost")var g="http://127.0.0.1/tasks";else var g="http://192.168.0.10/tasks";rt.get(g).then(E=>{c.value=E.data})}function m(g){g.added.element.phase=l.value,console.log("LOGGED",g.added)}function h(){function g(w){return{label:w.id,value:w.added}}var E=t.employees.map(g);console.log(E)}return We(()=>{h(),setTimeout(()=>{u()},500)}),(g,E)=>{const w=mt("FormKit"),x=Ye("auto-animate");return f(),_(A,null,[l.value.length<1?(f(),Rt(cn,{key:0,msg:{message:"Project Phase has to be set to proceed!",status:"warning"}})):W("",!0),r("p",go,[(e.standard=="metric",(o.value=!0)?(f(),_("h1",_o,"Project Standard "+p(e.standard),1)):W("",!0)),vo,j(r("select",{class:"select w-48 max-w-xs","onUpdate:modelValue":E[0]||(E[0]=v=>l.value=v)},So,512),[[Xe,l.value]])]),l.value.length>2?(f(),_("div",To,[Q(c).length>0?(f(),_("div",Io,[r("div",$o,[Co,j((f(),Rt(Q(n),{class:"list-group overflow-y-auto h-96",list:Q(c),group:"people",onChange:m,itemKey:"title"},{default:$t(()=>[(f(!0),_(A,null,J(Q(c),v=>(f(),_("div",{class:"list-group-item",key:v._id},[r("div",ko,[r("span",null,"("+p(v._id)+") "+p(v.title),1),r("span",Oo,"("+p(v.category)+")",1)])]))),128))]),_:1},8,["list"])),[[x,{duration:550}]])]),r("div",Po,[Ao,j((f(),Rt(Q(n),{class:"list-group overflow-y-auto h-96",list:i.value,group:"people",onChange:m,itemKey:"title"},{default:$t(()=>[(f(!0),_(A,null,J(i.value,v=>j((f(),_("div",{class:"list-group-item",key:v._id},[r("div",No,[r("span",null,p(v._id)+" "+p(v.title),1),r("div",Mo,[Fo,o.value?(f(),_("ul",Vo,[Ro,r("li",null,"UNIT "+p(v.metric.unit),1),r("li",null,"PRICE "+p(v.metric.price),1),v.metric.quantity?(f(),_("li",jo,"Quantity "+p(v.metric.quantity),1)):(f(),_("li",Lo,[j(r("input",{type:"number",placeholder:"Quantity","onUpdate:modelValue":F=>v.metric.quantity=F,class:"w-44"},null,8,Uo),[[xt,v.metric.quantity,void 0,{lazy:!0,number:!0}]])])),v.metric.quantity?(f(),_("li",Wo,"Total "+p(v.metric.total=v.metric.quantity*v.metric.price),1)):W("",!0)])):(f(),_("ul",Xo,[Yo,r("li",null,"UNIT "+p(v.imperial.unit),1),r("li",null,"PRICE "+p(v.imperial.price),1),v.imperial.quantity?(f(),_("li",Bo,"Quantity "+p(v.imperial.quantity),1)):(f(),_("li",qo,[j(r("input",{type:"number",placeholder:"Quantity","onUpdate:modelValue":F=>v.imperial.quantity=F,class:"w-44"},null,8,Go),[[xt,v.imperial.quantity,void 0,{lazy:!0,number:!0}]])])),v.imperial.quantity?(f(),_("li",zo," Total "+p(v.imperial.total=v.imperial.quantity*v.imperial.price),1)):W("",!0)]))]),r("div",Ho,[Ko,o.value?(f(),_("ul",Qo,[Jo,r("li",null,[k(w,{modelValue:s.value,"onUpdate:modelValue":E[1]||(E[1]=F=>s.value=F),type:"select",multiple:"",label:"Assign to task",name:"country",options:a.value,help:"control (C) to add."},null,8,["modelValue","options"])]),r("li",null,[r("pre",Zo,p(s.value),1)])])):W("",!0)]),r("div",ti,[ei,o.value?(f(),_("ul",ni,[oi,r("li",null,p(v.state),1)])):W("",!0)]),r("span",ii,[r("span",ri,[r("span",si,[ai,r("span",li,"("+p(v.phase)+")",1),r("span",ci,p(v.category),1)]),r("span",ui,[di,v.metric.total?(f(),_("span",hi,[k(Yt,{amount:v.metric.total},null,8,["amount"])])):(f(),_("span",pi,[k(Yt,{amount:v.imperial.total},null,8,["amount"])]))])])])])])),[[x]])),128))]),_:1},8,["list"])),[[x,{duration:250}]])])])):W("",!0)])):W("",!0),L(" "+p(e.projectTasks),1)],64)}}},fi={name:"account-transaction",props:{account:{Object},id:{String}},data(){return{project:"",transaction:{id:null,date:null,type:"",amount:null,ref:""},result:{},err:null}},methods:{submit(){rt.post(`${this.http}transaction/${this.id}`,this.transaction).then(e=>{this.result=e.data}).catch(e=>{this.err=e.message}),window.location.reload()}}},mi=r("label",{for:"acc-trans",class:"badge modal-button"},"Transaction",-1),gi=r("input",{type:"checkbox",id:"acc-trans",class:"modal-toggle"},null,-1),_i={for:"acc-trans",class:"modal cursor-pointer"},vi={class:"modal-box relative",for:""},bi={class:"text-lg text-center bg-gray-300 rounded py-2"},yi={class:"form-control w-full max-w-xs"},wi=r("label",{class:"label"},[r("span",{class:"label-text"},"Date")],-1),xi={class:"label"},Ei={class:"label-text-alt"},Di=r("label",{class:"label"},[r("span",{class:"label-text"},"Transaction Type")],-1),Si=r("option",{disabled:"",selected:""},null,-1),Ti=r("option",null,"Deposit",-1),Ii=r("option",null,"Withdraw",-1),$i=[Si,Ti,Ii],Ci=r("label",{class:"label"},[r("span",{class:"label-text"},"Amount")],-1),ki={class:"label"},Oi={class:"label-text-alt"},Pi={key:0},Ai=r("label",{class:"label"},[r("span",{class:"label-text"},"Payee")],-1),Ni={class:"label"},Mi={class:"label-text-alt"},Fi={key:1},Vi=r("label",{class:"label"},[r("span",{class:"label-text"},"Recipient")],-1),Ri={class:"label"},ji={class:"label-text-alt"},Li=r("label",{class:"label"},[r("span",{class:"label-text"},"Refference")],-1),Ui={class:"label"},Wi={class:"label-text-alt"};function Xi(e,t,n,o,i,s){return f(),_(A,null,[mi,gi,r("label",_i,[r("label",vi,[r("p",bi,p(n.id)+"/Transaction Details",1),r("div",yi,[wi,j(r("input",{type:"date",placeholder:"Date",class:"input input-bordered w-full max-w-xs","onUpdate:modelValue":t[0]||(t[0]=a=>i.transaction.date=a)},null,512),[[xt,i.transaction.date]]),r("label",xi,[r("span",Ei,p(i.err),1)]),Di,j(r("select",{class:"select w-full max-w-xs","onUpdate:modelValue":t[1]||(t[1]=a=>i.transaction.type=a)},$i,512),[[Xe,i.transaction.type]]),Ci,j(r("input",{type:"number",step:"0.01",placeholder:"Amount",class:"input input-bordered w-full max-w-xs","onUpdate:modelValue":t[2]||(t[2]=a=>i.transaction.amount=a)},null,512),[[xt,i.transaction.amount,void 0,{number:!0}]]),r("label",ki,[r("span",Oi,p(i.err),1)]),i.transaction.type==="Deposit"?(f(),_("section",Pi,[Ai,j(r("input",{type:"text",placeholder:"Payee",class:"input input-bordered w-full max-w-xs","onUpdate:modelValue":t[3]||(t[3]=a=>i.transaction.payee=a)},null,512),[[xt,i.transaction.payee]]),r("label",Ni,[r("span",Mi,p(i.err),1)])])):W("",!0),i.transaction.type==="Withdraw"?(f(),_("section",Fi,[Vi,j(r("input",{type:"text",placeholder:"Recipient",class:"input input-bordered w-full max-w-xs","onUpdate:modelValue":t[4]||(t[4]=a=>i.transaction.recipient=a)},null,512),[[xt,i.transaction.recipient]]),r("label",Ri,[r("span",ji,p(i.err),1)])])):W("",!0),Li,j(r("input",{type:"text",placeholder:"Refference",class:"input input-bordered w-full max-w-xs","onUpdate:modelValue":t[5]||(t[5]=a=>i.transaction.ref=a)},null,512),[[xt,i.transaction.ref]]),r("label",Ui,[r("span",Wi,p(i.err),1)]),r("button",{class:"btn btn-primary",onClick:t[6]||(t[6]=(...a)=>s.submit&&s.submit(...a))},"Submit")])])])],64)}const Vs=lt(fi,[["render",Xi]]),Yi={name:"workers",props:{id:{String},workers:{Array}}},Bi=r("p",null,"Project Employees",-1),qi={class:"bg-white h-96 overflow-y-auto"},Gi=["onClick"],zi={class:"ml-2 font-semibold text-gray-500"},Hi={class:"badge badge-primary badge-outline mx-2"},Ki={class:"absolute right-1 text-xs"};function Qi(e,t,n,o,i,s){return f(),_(A,null,[Bi,r("ul",qi,[(f(!0),_(A,null,J(n.workers,a=>(f(),_("li",{class:"h-12 border rounded-sm cursor-pointer py-2 relative",key:a._id,onClick:l=>e.$emit("displayworker",a)},[r("span",zi,p(a.value.name),1),r("span",Hi,p(a.value.occupation),1),r("span",Ki,"Joined "+p(new Date(a.value.added).toDateString()),1)],8,Gi))),128))])],64)}const Rs=lt(Yi,[["render",Qi]]),Ji={name:"task",props:{id:{String},tasks:{Array}}},Zi=r("p",null,"Project Tasks Que",-1),tr={id:"tasks",class:"bg-gray-50 border border-1 border-gray-200 rounded shadow mx-1"},er={class:"h-12 border rounded-sm cursor-pointer py-2 relative"},nr={class:"ml-2 font-semibold text-gray-500"},or={class:"mx-2 absolute right-1 text-xs"},ir=L("Category "),rr={class:"badge badge-primary badge-outline"};function sr(e,t,n,o,i,s){return f(),_(A,null,[Zi,r("ul",tr,[(f(!0),_(A,null,J(n.tasks,a=>(f(),_("li",er,[r("span",nr,p(a.title),1),r("span",or,[ir,r("span",rr,p(a.category),1)])]))),256))])],64)}const js=lt(Ji,[["render",sr]]),ar={name:"inventory",props:{id:{String},inventory:{Array}}},lr={class:"mx-5 my-5 border border-gray-400 rounded-md"},cr=r("thead",null,[r("tr",null,[r("th",null,"Item"),r("th",null,"Title"),r("th",null,"InStock"),r("th",null,"Units")])],-1),ur={class:"py-2 px-4"};function dr(e,t,n,o,i,s){return f(),_(A,null,[r("p",null,p(n.id)+"/Project Store ",1),r("table",lr,[cr,r("tbody",null,[(f(!0),_(A,null,J(n.inventory,a=>(f(),_("tr",ur,[r("td",null,p(a.id),1),r("td",null,p(a.item),1),r("td",null,p(a.instock),1),r("td",null,p(a.unit),1)]))),256))])])],64)}const Ls=lt(ar,[["render",dr]]),hr={name:"ttable",data(){return{tasks:[]}},mounted(){this.loadTasks(),setTimeout(()=>{this.setTable()},600)},methods:{loadTasks(){rt.get(`${this.http}tasks`).then(e=>{this.tasks=e.data})},setTable(){new un("#tble",{data:this.tasks,index:"_id",columns:[{title:"Id",field:"_id"},{title:"Title",field:"title"},{title:"Description",field:"description"}]})}}},pr={id:"tble"};function fr(e,t,n,o,i,s){return f(),_("div",pr)}const Us=lt(hr,[["render",fr]]),mr=r("p",null,"ADD PROJECT WORKER",-1),gr={key:0,class:"flex flex-row my-2 mx-5"},_r={class:"w-1/2 bg-yellow-50 mr-2"},vr=r("p",{class:"py-2 px-2 bg-gray-400 text-gray-50 font-semibold relative"},[L("CentryPlan Employees Index "),r("span",{class:"mx-5 absolute right-2"},[L("search "),r("input",{type:"text"})])],-1),br={class:"list-group-item py-2 bg-gray-100 cursor-pointer hover:bg-gray-200 relative"},yr={class:"w-1/2 bg-blue-50 ml-2"},wr={class:"bg-gray-400 text-gray-50 font-semibold py-2 px-2 relative"},xr={key:0,class:"absolute right-1"},Er={class:"list-group-item py-2 bg-gray-100 cursor-pointer hover:bg-gray-200 relative"},Ws={__name:"addWorker",props:{id:String,workers:Array},setup(e){const t=e,n=rn;var o=q([]),i=q([]),s=q([]),a=q(!1);function l(){if(window.location.hostname=="localhost")var g="http://127.0.0.1/workers";else var g="http://192.168.0.10/workers";rt.get(g).then(E=>{o.value=E.data.data.rows})}function c(g){console.log("LOGGED",g)}function u(g){function E(w,x){var v=w.indexOf(x);return v>-1&&w.splice(v,1),w}g.added.element.value.added=Date.parse(new Date),s.value.includes(g.added.element.id)?(alert("The worker is already employed to the project"),E(t.workers,g.added.element)):setTimeout(()=>{i.value.push(g.added.element),a.value=!0},200)}function m(){if(window.location.hostname=="localhost")var g=`http://127.0.0.1/addworkers/${t.id}`;else var g=`http://192.168.0.10/addworkers/${t.id}`;rt.post(g,i.value).then(E=>{E.status==200&&setTimeout(()=>{window.location.reload()},1500)})}function h(g){return g.id}return s.value=t.workers.map(h),We(()=>{setTimeout(()=>{l()},200)}),(g,E)=>{const w=Ye("auto-animate");return f(),_(A,null,[mr,Q(o).length>0?(f(),_("div",gr,[r("div",_r,[vr,j((f(),Rt(Q(n),{class:"list-group overflow-y-auto h-96",list:Q(o),group:"people",onChange:c,itemKey:"id"},{default:$t(()=>[(f(!0),_(A,null,J(Q(o),x=>(f(),_("div",{class:"list-group-item",key:x.id},[r("div",br,[r("span",null,"("+p(x.id)+") "+p(x.value.name)+" "+p(x.value.occupation)+" "+p(x.value.oc),1)])]))),128))]),_:1},8,["list"])),[[w,{duration:250}]])]),r("div",yr,[r("p",wr,[L(" Project-"+p(e.id)+"/ Employees ",1),Q(a)?(f(),_("span",xr,[r("span",{class:"btn btn-sm",onClick:m},"Update")])):W("",!0)]),j((f(),Rt(Q(n),{class:"list-group overflow-y-auto h-96",list:e.workers,group:"people",onChange:u,itemKey:"title"},{default:$t(()=>[(f(!0),_(A,null,J(e.workers,x=>j((f(),_("div",{class:"list-group-item",key:x.id},[r("div",Er,[r("span",null,p(x.id)+" "+p(x.value.name)+" "+p(x.value.occupation),1)])])),[[w]])),128))]),_:1},8,["list"])),[[w,{duration:250}]])])])):W("",!0)],64)}}},Dr={name:"invoiceRecord",props:{id:String},components:{DCurrency:Yt},data(){return{error:null,invoiceIdIndex:null,checker:null,title:"Project Invoice Record",record:{supplier:{name:null,taxid:null},invoiceno:null,datetime:null,items:[],tax:null,total:null},item:{itemno:null,description:null,quantity:null,unit:null,price:null},supplier:{name:null,taxid:null,address:{},contact:{}},suppliers:[],itemSchema:[{$formkit:"text",name:"itemno",label:"Item no.",validation:"required|itemno"},{$formkit:"text",name:"description",label:"Description"},{$formkit:"number",name:"quantity",label:"Quantity",step:"0.01"},{$formkit:"text",name:"unit",label:"Unit"},{$formkit:"number",name:"price",label:"Price",step:"0.01",placeholder:"$1.00"}]}},created(){this.getInvoiceIds()},watch:{checker(){this.checkIn()}},computed:{accountWithdrawal(){return{id:Date.parse(new Date),date:this.record.datetime,type:"Withdraw",amount:this.record.total,recipient:this.record.supplier,ref:this.record.invoiceno}},suppliersIndex(){const e=this;function t(o){return{label:o.name,value:o}}var n=e.globalSuppliers.map(t);return n.unshift({label:"Select Supplier",value:""}),n}},methods:{validateInvoice(){const e=this;var t={invoiceno:e.record.invoiceno,supplier:e.record.supplier.name};rt.post(`http://${location.hostname}/check_invoice`,t).then(n=>{n.status==200?e.checker=n.data.result:e.checker=null}).catch(n=>{e.error=n.message})},checkIn(){const e=this;e.checker==!0&&(alert("Stop right deso! Da invoice deh already in deh."),setTimeout(()=>{e.record.invoiceno=null},2500))},async getInvoiceIds(){const e=this;rt.get(`${e.http}invoiceids`).then(t=>{t.status===200&&(e.invoiceIdIndex=t.data)}).catch(t=>{e.error=t.message})},submitRecord(){const e=this;e.validateInvoice(),setTimeout(()=>{e.checker==!0?(alert("Yu neva hear seh Da invoice deh already in deh?. System Reject yu request."),e.record.invoiceno=null,e.record.items=[],e.record.tax=null,e.record.total=null):rt.post(`${this.http}add_project_invoice/${this.id}`,this.record).then(t=>{t.status==200&&e.submitInvoicePayment()}).catch(t=>{e.error=t.message})},2500)},async addInvoiceItem(){const e=this;e.record.items.push(e.item),setTimeout(()=>{e.item={itemno:null,description:null,quantity:null,unit:null,price:0},e.item.itemno=e.record.items.length+1},50)},setItemTotal(e,t){return parseFloat(e)*parseFloat(t)},submitInvoicePayment(){rt.post(`${this.http}transaction/${this.id}`,this.accountWithdrawal).then(e=>{e.status==200&&window.location.reload()}).catch(e=>{this.error=e.message})}}},Sr=r("label",{for:"inv-rec",class:"btn btn-accent btn-xs modal-button"},"Invoice Record",-1),Tr=r("input",{type:"checkbox",id:"inv-rec",class:"modal-toggle"},null,-1),Ir={for:"inv-rec",class:"modal cursor-pointer"},$r={class:"modal-box relative w-11/12 max-w-full",for:""},Cr={class:"text-red-500"},kr={class:"text-lg font-bold"},Or={class:"flex flex-row"},Pr={class:"flex flex-col mx-2 w-1/3"},Ar=r("div",{class:"divider w-96"},null,-1),Nr=r("div",{class:"divider w-96"},null,-1),Mr=r("div",{class:"divider lg:divider-horizontal"},"AND",-1),Fr={class:"flex flex-col mx-2 w-1/3"},Vr=r("p",null,"Invoice Items",-1),Rr=r("div",{class:"divider lg:divider-horizontal"},"RESULT",-1),jr={class:"flex flex-col mx-2 w-1/3"},Lr={key:0,class:"alert alert-warning shadow-lg my-5"},Ur=r("div",null,[r("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current flex-shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),r("span",null,"Warning! Duplicate Invoice Data detected. Resetting form...")],-1),Wr=[Ur],Xr={key:1,class:"alert alert-success shadow-lg my-5"},Yr=r("div",null,[r("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current flex-shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),r("span",null,"Good to go!")],-1),Br=[Yr],qr={key:2,class:"bg-gray-100 text-xs border-2 border-gray-200 rounded-md p-2 shadow-md"},Gr={class:"text-center text-lg font-semibold my-2"},zr={class:"text-center text-sm"},Hr={class:"text-center text-lg font-semibold my-2"},Kr={class:"text-left text-sm my-2 flex flex-col"},Qr={key:0,class:"table table-xs mx-2"},Jr=r("thead",null,[r("tr",null,[r("td",null,"Item"),r("td",null,"Description"),r("td",null,"Unit"),r("td",null,"Amt"),r("td",null,"Price"),r("td",null,"Total")])],-1),Zr=r("td",null,null,-1),ts=r("td",null,null,-1),es=r("td",null,null,-1),ns=r("td",null,null,-1),os=r("td",null,null,-1),is=r("td",null,"Tax",-1),rs=r("td",null,null,-1),ss=r("td",null,null,-1),as=r("td",null,null,-1),ls=r("td",null,null,-1),cs=r("td",null,"Total",-1),us={key:1,class:"text-right text-sm my-2 flex flex-col"},ds=L("Tax "),hs=L("Invoice Total: ");function ps(e,t,n,o,i,s){const a=mt("FormKit"),l=mt("FormKitSchema"),c=mt("DCurrency");return f(),_(A,null,[Sr,Tr,r("label",Ir,[r("label",$r,[r("p",Cr,p(i.error),1),r("h3",kr,p(i.title)+"/ "+p(n.id),1),r("div",Or,[r("div",Pr,[k(a,{type:"form",onSubmit:s.submitRecord},{default:$t(()=>[k(a,{type:"text",modelValue:i.record.invoiceno,"onUpdate:modelValue":t[0]||(t[0]=u=>i.record.invoiceno=u),modelModifiers:{lazy:!0},label:"Invoice No.",placeholder:"Invoice Number",validation:"required","validation-visibility":"live",help:"You must enter an Invoice number here!",onInput:s.validateInvoice},null,8,["modelValue","onInput"]),Ar,k(a,{type:"text",modelValue:i.record.supplier.name,"onUpdate:modelValue":t[1]||(t[1]=u=>i.record.supplier.name=u),label:"Supplier's Name",placeholder:"Supplier"},null,8,["modelValue"]),k(a,{type:"select",modelValue:i.record.supplier,"onUpdate:modelValue":t[2]||(t[2]=u=>i.record.supplier=u),label:"Select",placeholder:"Supplier",options:s.suppliersIndex},null,8,["modelValue","options"]),Nr,k(a,{type:"date",modelValue:i.record.datetime,"onUpdate:modelValue":t[3]||(t[3]=u=>i.record.datetime=u),label:"Date",onFocus:s.validateInvoice},null,8,["modelValue","onFocus"]),k(a,{type:"number",modelValue:i.record.tax,"onUpdate:modelValue":t[4]||(t[4]=u=>i.record.tax=u),modelModifiers:{number:!0},label:"Tax",step:"0.01",placeholder:"$1.00"},null,8,["modelValue"]),k(a,{type:"number",modelValue:i.record.total,"onUpdate:modelValue":t[5]||(t[5]=u=>i.record.total=u),modelModifiers:{number:!0},label:"Total",step:"0.01",placeholder:"$1.00"},null,8,["modelValue"])]),_:1},8,["onSubmit"])]),Mr,r("div",Fr,[Vr,k(a,{type:"form",id:"invoice-item","submit-label":"Add Item",modelValue:i.item,"onUpdate:modelValue":t[6]||(t[6]=u=>i.item=u),onSubmit:s.addInvoiceItem},{default:$t(()=>[k(l,{schema:i.itemSchema},null,8,["schema"])]),_:1},8,["modelValue","onSubmit"])]),Rr,r("div",jr,[i.checker==!0?(f(),_("div",Lr,Wr)):(f(),_("div",Xr,Br)),i.record.invoiceno?(f(),_("section",qr,[r("h2",Gr,p(i.record.supplier.name),1),r("h2",zr,"TAX ID "+p(i.record.supplier.taxid),1),r("h1",Hr,"Invoice No. "+p(i.record.invoiceno),1),r("p",Kr,[r("span",null,"Inv.no "+p(i.record.invoiceno),1),r("span",null,"Date: "+p(i.record.datetime),1)]),i.record.items.length>0?(f(),_("table",Qr,[Jr,r("tbody",null,[(f(!0),_(A,null,J(i.record.items,u=>(f(),_("tr",null,[r("td",null,p(u.itemno),1),r("td",null,p(u.description),1),r("td",null,p(u.unit),1),r("td",null,p(u.quantity),1),r("td",null,[k(c,{amount:u.price},null,8,["amount"])]),r("td",null,[k(c,{amount:s.setItemTotal(u.price,u.quantity)},null,8,["amount"])]),Zr]))),256)),r("tr",null,[ts,es,ns,os,is,r("td",null,[k(c,{amount:parseFloat(i.record.tax)},null,8,["amount"])])]),r("tr",null,[rs,ss,as,ls,cs,r("td",null,[k(c,{amount:parseFloat(i.record.total)},null,8,["amount"])])])])])):(f(),_("p",us,[r("span",null,[ds,k(c,{amount:i.record.tax},null,8,["amount"])]),r("span",null,[hs,k(c,{amount:i.record.total},null,8,["amount"])])]))])):W("",!0)])])])])],64)}const Xs=lt(Dr,[["render",ps]]),fs={class:"card w-full bg-base-100 shadow-xl mx-5 my-5"},ms={class:"card-body"},gs={class:"card-title"},_s={class:"flex-flex-row"},vs={class:"mx-5"},bs=L("Total "),ys=r("div",{class:"card-actions justify-end"},[r("button",{class:"badge badge-primary"},"See ")],-1),ws={__name:"invoiceIndexItem",props:{record:{Object}},setup(e){const t=e;return(n,o)=>(f(),_("div",fs,[r("div",ms,[r("h2",gs,p(t.record.supplier.name),1),r("p",_s,[r("span",null,"Inv.No. "+p(t.record.invoiceno),1),r("span",vs,p(new Date(t.record.datetime).toDateString()),1),r("span",null,[bs,k(Yt,{amount:t.record.total},null,8,["amount"])])]),ys])]))}},xs={name:"invoice-index",props:{invoices:{Array}},data(){return{invoice:null}},components:{invoiceIndexItem:ws},methods:{displayInvoice(e){this.invoice=e}}},Es={class:"flex flex-row"},Ds={class:"flex flex-col w-full"},Ss={class:"bg-gray-300 h-12 rounded-md mx-5 my-5 items-inline py-2 px-2 relative"},Ts=L("Project Invoice Records "),Is={class:"absolute right-2"},$s={class:"badge badge-primary"},Cs={class:"my-5 h-96 overflow-y-auto bg-base"},ks=["onClick"];function Os(e,t,n,o,i,s){const a=mt("invoiceIndexItem");return f(),_("div",Es,[r("div",Ds,[r("p",Ss,[Ts,r("span",Is,[r("button",{class:"badge mx-2",onClick:t[0]||(t[0]=l=>e.$emit("clearInvoice"))},"Clear Invoice"),r("span",$s,p(n.invoices.length),1)])]),r("ul",Cs,[(f(!0),_(A,null,J(n.invoices,l=>(f(),_("li",{key:l.id,onClick:c=>e.$emit("displayinvoice",l)},[k(a,{record:l},null,8,["record"])],8,ks))),128))])])])}const Ys=lt(xs,[["render",Os]]);export{Vs as A,Ls as I,Ms as P,js as T,Rs as W,Fs as _,Ws as a,Yt as b,Xs as c,Ys as i,Us as t};
